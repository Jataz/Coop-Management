{% extends 'layouts/base.html' %}
{% load static %}

{% block title %} Loan | Status {% endblock title %}

{% block extrastyle %}

{% endblock extrastyle %}

{% block bodyclass %} hold-transition sidebar-mini layout-fixed {% endblock bodyclass %}

{% block content %}

  <div class="pagetitle">
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
        <li class="breadcrumb-item active">Loan</li>
        <li class="breadcrumb-item active">Status</li>
      </ol>
    </nav>
  </div><!-- End Page Title -->
  <section class="section profile">
    <div class="row">
      <div class="col-lg-12">

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Loan Status</h5>

            <!-- Custom Styled Validation with Tooltips -->

            <p>Outstanding Amount: ${{ loan_status.outstanding_amount }}</p>
            <p>Due Date: {{ loan_status.due_date }}</p>
            <p>Total to be Repaid: ${{ loan_status.total_to_be_repaid }}</p>
            <p>Summary Interest: ${{ loan_status.summary_interest }}</p>
            <p>Overdue Management Fee: ${{ loan_status.overdue_mgt_fee }}</p>
            <p>Late Interest: ${{ loan_status.late_interest }}</p>
            <p>Partial Payment: ${{ loan_status.partial_payment }}</p>
            
          </div>
        </div>

      </div>
    </div>

    <div class="row justify-content-center">

      <div class="col-xl-8">

        <div class="card">
          <div class="card-body pt-3">
            <!-- Bordered Tabs -->
            <ul class="nav nav-tabs nav-tabs-bordered">

              <li class="nav-item">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Loan Details</button>
              </li>

            </ul>
            <div class="tab-content pt-2">

              <div class="tab-pane fade show active profile-overview" id="profile-overview">
                <h1 class="card-title text-center"
                    style="font-size: 24px; color:
                        {% if loan.status == 'Outstanding' %}
                            red;
                        {% elif loan.status == 'Cleared' %}
                            green;
                        {% elif loan.status == 'Pending' %}
                            orange;
                        {% elif loan.status == 'Approved' %}
                            blue;
                        {% else %}
                            black; /* Default color if status doesn't match */
                        {% endif %}
                    ">
                    {{ loan.status }}
                </h1>
            
            
                <p class="small fst-italic"></p>

                <h5 class="card-title">Profile Details</h5>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label ">Full Name</div>
                  <div class="col-lg-9 col-md-8">Kevin Anderson</div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Company</div>
                  <div class="col-lg-9 col-md-8">Lueilwitz, Wisoky and Leuschke</div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Job</div>
                  <div class="col-lg-9 col-md-8">Web Designer</div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Country</div>
                  <div class="col-lg-9 col-md-8">USA</div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Address</div>
                  <div class="col-lg-9 col-md-8">A108 Adam Street, New York, NY 535022</div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Phone</div>
                  <div class="col-lg-9 col-md-8">(436) 486-3538 x29071</div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Email</div>
                  <div class="col-lg-9 col-md-8">k.anderson@example.com</div>
                </div>

              </div>
            </div><!-- End Bordered Tabs -->

          </div>
        </div>

      </div>
    </div>

    <div class="container mt-5">
      <!-- Loan Status Card -->
      <div class="card text-center mb-4 {% if loan.status == 'Cleared' %}bg-success text-white{% elif loan.status == 'Outsatanding' %}bg-warning text-white{% elif loan.status == 'Approved' %}bg-info text-white{% else %}bg-secondary text-white{% endif %}">
        <div class="card-body loan-status">
            <div class="icon">&#10003;</div>
            <h4 class="card-title">{{ loan.status }}</h4>
            <p class="message">
                {% if loan.status == 'Cleared' %}
                    Thank you for using our service. Wish you have a nice day!
                {% elif loan.status == 'Outstanding' %}
                    Your request is pending approval.
                {% elif loan.status == 'Approved' %}
                    Your request has been approved. Congratulations!
                {% else %}
                    Unknown status. Please contact support for assistance.
                {% endif %}
            </p>
        </div>
      </div>
    
    
        
      <!-- Loan Details Card -->
      <div class="card mb-4">
          <div class="card-body">
              <h5 class="card-title">Loan Details</h5>
              <ul class="list-group list-group-flush">
                  <li class="list-group-item detail-row">
                      <span>Loan Number:</span>
                      <span>2024052900M7DSU</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Date:</span>
                      <span>29/05/2024</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Loan Amount:</span>
                      <span>$40</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Term:</span>
                      <span>30 Days</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Ref NO:</span>
                      <a href="#">CI240529.1021.L81323</a>
                  </li>
              </ul>
          </div>
      </div>
      <!-- Repayment Details Card -->
      <div class="card mb-4">
          <div class="card-body">
              <h5 class="card-title">Repayment Details</h5>
              <ul class="list-group list-group-flush">
                  <li class="list-group-item detail-row">
                      <span>Repayment Amount:</span>
                      <span>$52</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Overdue Fees:</span>
                      <span>$0</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Total Repaid:</span>
                      <span>$52</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <span>Cleared at:</span>
                      <span>29/06/2024</span>
                  </li>
                  <li class="list-group-item detail-row">
                      <a href="#">Loan Contract</a>
                  </li>
              </ul>
          </div>
      </div>
  </div>

  <div class="container mt-5">
    <!-- Loan Status Card -->
    <div class="card text-center mb-4 
    {% if loan.status == 'Cleared' %}
        bg-success text-white
    {% elif loan.status == 'Outstanding' %}
        bg-warning text-dark
    {% elif loan.status == 'Approved' %}
        bg-info text-white
    {% elif loan.status == 'Rejected' %}
        bg-danger text-white
    {% else %}
        bg-secondary text-white
    {% endif %}
    ">
    <div class="card-body loan-status">
        <div class="icon">&#10003;</div>
            <h4 class="card-title">{{ loan.status }}</h4>
            <p class="message">
                {% if loan.status == 'Cleared' %}
                    Thank you for using our service. Wish you have a nice day!
                {% elif loan.status == 'Outstanding' %}
                    Your loan is outstanding. Please take action soon.
                {% elif loan.status == 'Approved' %}
                    Your loan application has been approved. Congratulations!
                {% elif loan.status == 'Rejected' %}
                    Unfortunately, your loan application has been rejected.
                {% else %}
                    Unknown status. Please contact support for assistance.
                {% endif %}
            </p>
        </div>
    </div>

  
  
      
    <!-- Loan Details Card -->
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Loan Details</h5>
            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between">
                    <span>Loan Number:</span>
                    <span>2024052900M7DSU</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Date:</span>
                    <span>29/05/2024</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Loan Amount:</span>
                    <span>$40</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Term:</span>
                    <span>30 Days</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Ref NO:</span>
                    <a href="#">CI240529.1021.L81323</a>
                </li>
            </ul>
        </div>
    </div>
    <!-- Repayment Details Card -->
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Repayment Details</h5>
            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between">
                    <span>Repayment Amount:</span>
                    <span>$52</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Overdue Fees:</span>
                    <span>$0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total Repaid:</span>
                    <span>$52</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Cleared at:</span>
                    <span>29/06/2024</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <a href="#">Loan Contract</a>
                </li>
            </ul>
        </div>
    </div>
  </div>
  </section>
{% endblock content %}

{% block extra_scripts %}

{% endblock extra_scripts %}