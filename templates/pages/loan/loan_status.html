{% extends 'layouts/base.html' %}
{% load static %}

{% block title %} Loan | Status {% endblock title %}

{% block extrastyle %}

{% endblock extrastyle %}

{% block bodyclass %} hold-transition sidebar-mini layout-fixed {% endblock bodyclass %}

{% block content %}

  <div class="pagetitle">
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
        <li class="breadcrumb-item active">Loan</li>
        <li class="breadcrumb-item active">Status</li>
      </ol>
    </nav>
  </div><!-- End Page Title -->
  <section class="section profile">
    <div class="row justify-content-center">

      <div class="col-xl-8">
        <div class="card text-center mb-4 
            {% if loan.status == 'Cleared' %}
                bg-success text-white
            {% elif loan.status == 'Outstanding' %}
                bg-warning text-dark
            {% elif loan.status == 'Approved' %}
                bg-info text-white
            {% elif loan.status == 'Rejected' %}
                bg-danger text-white
            {% else %}
                bg-secondary text-white
            {% endif %}
        ">
            <div class="card-body loan-status">
                <div class="icon">&#10003;</div>
                <h4 class="card-title">{{ loan.status }}</h4>
                <p class="message">
                    {% if loan.status == 'Cleared' %}
                      <span style="color: white;">Thank you for using our service. Wish you have a nice day!</span>  
                    {% elif loan.status == 'Outstanding' %}
                        Your loan is outstanding. Please take action soon.
                    {% elif loan.status == 'Approved' %}
                        Your loan application has been approved. Congratulations!
                    {% elif loan.status == 'Rejected' %}
                        Unfortunately, your loan application has been rejected.
                    {% else %}
                        Unknown status. Please contact support for assistance.
                    {% endif %}
                </p>
            </div>
        </div>
    
        <!-- Loan Details Card -->
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Loan Details</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Reference Number</span>
                        <span style="color: blue;">{{ loan.ref_no }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Date</span>
                        <span>{{ loan.application_date }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Loan Amount</span>
                        <span style="color: green;">${{ loan.amount }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Term</span>
                        <span>{{ loan.term_months }} Months</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                    </li>
                </ul>
            </div>
        </div>
    
        <!-- Repayment Details Card -->
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Repayment Details</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Repayment Amount</span>
                        <span style="color: gold">${{ loan_status.total_to_be_repaid }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Overdue Fees</span>
                        <span>${{ loan_status.overdue_mgt_fee }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Total Repaid</span>
                        <span style="color:  green;">${{ loan_status.total_to_be_repaid }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Cleared at</span>
                        <span>{{ loan_status.repayment_date }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                    </li>
                </ul>
            </div>
        </div>
    
        <!-- Back Button -->
        <button class="btn  btn-outline-success mb-4" onclick="goBack()">Back</button>
    
    </div>
    
    </div>
  </section>
{% endblock content %}

{% block extra_scripts %}

{% endblock extra_scripts %}